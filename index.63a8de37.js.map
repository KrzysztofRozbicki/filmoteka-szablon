{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,8EASA,MAAMC,EAAYC,SAASC,eAAe,WACpCC,EAAeF,SAASC,eAAe,eACvCE,EAAgBH,SAASC,eAAe,gBACxCG,EAAUJ,SAASC,eAAe,YAClCI,EAAcL,SAASC,eAAe,gBACtCK,EAAeN,SAASC,eAAe,cAEvCM,EAAe,IAAI,EAAAC,EAAAC,cAEnBC,EAAqB,IACzB,IAAIC,gBAAgB,CAClBC,MAAOL,EAAaK,MACpBC,QAASC,EAAAC,IACTC,SAAUF,EAAAG,SACVC,eAAe,EACfC,KAAMZ,EAAaY,OAMjBC,EAAcC,IAClBxB,EAAAyB,QAAMC,IAAIF,GAAKG,MAAKC,IAAO,EAAAC,EAAAC,cAAaF,EAAIG,KAAMrB,IAAA,EAG9CsB,EAAaC,IACNV,EAAXU,EAP8B,GAAGhB,EAAAiB,0BAA0BrB,MAD/B,GAAGI,EAAAiB,mBAAmBrB,MAQ0B,EAG9EmB,EAAWtB,EAAauB,UACxBxB,EAAa0B,iBAAiB,SAASC,IACE,iBAA3BA,EAAMC,OAAOC,YAAwB5B,EAAaY,MAAQc,EAAMC,OAAOC,WACnFN,EAAWtB,EAAauB,SAAQ,IAGlC1B,EAAQ4B,iBAAiB,SAAS,KAChCzB,EAAa6B,gBACbP,EAAWtB,EAAauB,SAAQ,IAGlCzB,EAAY2B,iBAAiB,SAAS,KACpCzB,EAAa8B,gBACbR,EAAWtB,EAAauB,SAAQ,IAGlC5B,EAAa8B,iBAAiB,UAAUC,IACtCA,EAAMK,iBACN/B,EAAaK,MAAQT,EAAcoC,MACnChC,EAAauB,UAAW,EACxBD,EAAWtB,EAAauB,UACxB3B,EAAcoC,MAAQ,MAGxBxC,EAAUiC,iBAAiB,SAASC,KAClC,EAAAO,EAAAC,mBAAkBR,EAAMC,OAAOQ,WAAWC,QAAQC,GAAI/C,EAAAyB,SAAOE,MAAKI,GAAQiB,QAAQC,IAAIlB,IAAA,IAGxFmB,OAAOf,iBACL,SACAgB,EAAAC,EAAA,EAAS,KAAM,EAAAC,EAAAC,kBAAiB5C,IAAe","sources":["src/index.js"],"sourcesContent":["import axios from 'axios';\nimport './sass/main.scss';\nimport { userMovies, fetchSingleMovie } from './scripts/modal';\nimport { URL, IMG_URL, KEY, LANGUAGE } from './scripts/constants';\nimport { createMovies } from './scripts/createMovies';\nimport { SearchParams } from './scripts/searchParams';\nimport { createPagination } from './scripts/pagination';\nimport debounce from 'lodash.debounce';\n\nconst wrapperEl = document.getElementById('wrapper');\nconst searchFormEl = document.getElementById('search-form');\nconst searchInputEl = document.getElementById('search-input');\nconst nextBtn = document.getElementById('next-btn');\nconst previousBtn = document.getElementById('previous-btn');\nconst paginationEl = document.getElementById('pagination');\n\nconst searchParams = new SearchParams();\n\nconst createSearchParams = () =>\n  new URLSearchParams({\n    query: searchParams.query,\n    api_key: KEY,\n    language: LANGUAGE,\n    include_adult: false,\n    page: searchParams.page,\n  });\n\nconst createSearchURL = () => `${URL}search/movie?${createSearchParams()}`;\nconst createTrendingURL = () => `${URL}trending/movie/week?${createSearchParams()}`;\n\nconst fetchMovies = url => {\n  axios.get(url).then(res => createMovies(res.data, searchParams));\n};\n\nconst showMovies = trending => {\n  trending ? fetchMovies(createTrendingURL()) : fetchMovies(createSearchURL());\n};\n\nshowMovies(searchParams.trending);\npaginationEl.addEventListener('click', event => {\n  if (typeof +event.target.innerText === 'number') searchParams.page = +event.target.innerText;\n  showMovies(searchParams.trending);\n});\n\nnextBtn.addEventListener('click', () => {\n  searchParams.incrementPage();\n  showMovies(searchParams.trending);\n});\n\npreviousBtn.addEventListener('click', () => {\n  searchParams.decrementPage();\n  showMovies(searchParams.trending);\n});\n\nsearchFormEl.addEventListener('submit', event => {\n  event.preventDefault();\n  searchParams.query = searchInputEl.value;\n  searchParams.trending = false;\n  showMovies(searchParams.trending);\n  searchInputEl.value = '';\n});\n\nwrapperEl.addEventListener('click', event => {\n  fetchSingleMovie(+event.target.parentNode.dataset.id, axios).then(data => console.log(data));\n});\n\nwindow.addEventListener(\n  'resize',\n  debounce(() => createPagination(searchParams), 100)\n);\n\n// // DODAÄ† DO MY LIBRARY JS\n// const userWatchedBtn = document.getElementById('user-watched-btn');\n// const userQueueBtn = document.getElementById('user-queue-btn');\n\n// userWatchedBtn.addEventListener('click', () => createMovies(userMovies.watched));\n// userQueueBtn.addEventListener('click', () => createMovies(userMovies.queued));\n"],"names":["$fmRoT","parcelRequire","$35da740d59af89ba$var$wrapperEl","document","getElementById","$35da740d59af89ba$var$searchFormEl","$35da740d59af89ba$var$searchInputEl","$35da740d59af89ba$var$nextBtn","$35da740d59af89ba$var$previousBtn","$35da740d59af89ba$var$paginationEl","$35da740d59af89ba$var$searchParams","$cjfai","SearchParams","$35da740d59af89ba$var$createSearchParams","URLSearchParams","query","api_key","$geVIX","KEY","language","LANGUAGE","include_adult","page","$35da740d59af89ba$var$fetchMovies","url","default","get","then","res","$ibngl","createMovies","data","$35da740d59af89ba$var$showMovies","trending","URL","addEventListener","event","target","innerText","incrementPage","decrementPage","preventDefault","value","$4rMUO","fetchSingleMovie","parentNode","dataset","id","console","log","window","$parcel$interopDefault","$lwfqC","$cz9oG","createPagination"],"version":3,"file":"index.63a8de37.js.map"}