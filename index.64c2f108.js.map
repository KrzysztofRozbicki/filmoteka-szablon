{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-b5d84e0047c5f768.js","src/index.js","node_modules/@parcel/runtime-js/lib/runtime-ae29618a52fb89ed.js","src/scripts/showLoader.js","node_modules/@parcel/runtime-js/lib/runtime-d22bd11cfd8c0588.js","src/scripts/searchParams.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"9vqfN\\\":\\\"index.64c2f108.js\\\",\\\"fDMEU\\\":\\\"camera.f952092c.png\\\",\\\"90HkZ\\\":\\\"film.00eaedd2.png\\\",\\\"br9vd\\\":\\\"index.d9cf7a7a.css\\\",\\\"hu3LY\\\":\\\"index.a5496ef3.js\\\"}\"));","import axios from 'axios';\nimport './sass/main.scss';\nimport { userMovies, fetchSingleMovie } from './scripts/modal';\nimport { URL, IMG_URL, KEY, LANGUAGE } from './scripts/constants';\nimport { createMovies } from './scripts/createMovies';\nimport { SearchParams } from './scripts/searchParams';\nimport { createPagination } from './scripts/pagination';\nimport { loaderHTML } from './scripts/showLoader';\nimport debounce from 'lodash.debounce';\n\nconst wrapperEl = document.getElementById('wrapper');\nconst searchFormEl = document.getElementById('search-form');\nconst searchInputEl = document.getElementById('search-input');\nconst nextBtn = document.getElementById('next-btn');\nconst previousBtn = document.getElementById('previous-btn');\nconst paginationEl = document.getElementById('pagination');\nconst searchErrorEl = document.getElementById('search-error');\n\nconst searchParams = new SearchParams();\n\nconst createSearchParams = () =>\n  new URLSearchParams({\n    query: searchParams.query,\n    api_key: KEY,\n    language: LANGUAGE,\n    include_adult: false,\n    page: searchParams.page,\n  });\n\nconst createSearchURL = () => `${URL}search/movie?${createSearchParams()}`;\nconst createTrendingURL = () => `${URL}trending/movie/week?${createSearchParams()}`;\n\nconst fetchMovies = async url => {\n  try {\n    wrapperEl.innerHTML = loaderHTML;\n    const response = await axios.get(url);\n    console.log(response.data.results);\n    if (response.data.results.length === 0) throw new Error();\n    createMovies(response.data, searchParams);\n  } catch (error) {\n    searchErrorEl.classList.remove('waiting');\n  }\n};\n\nconst showMovies = async trending => {\n  trending ? fetchMovies(createTrendingURL()) : fetchMovies(createSearchURL());\n};\n\nshowMovies(searchParams.trending);\npaginationEl.addEventListener('click', event => {\n  if (typeof +event.target.innerText === 'number') searchParams.page = +event.target.innerText;\n  showMovies(searchParams.trending);\n});\n\nnextBtn.addEventListener('click', () => {\n  searchParams.incrementPage();\n  showMovies(searchParams.trending);\n});\n\npreviousBtn.addEventListener('click', () => {\n  searchParams.decrementPage();\n  showMovies(searchParams.trending);\n});\n\nsearchFormEl.addEventListener('submit', event => {\n  event.preventDefault();\n  searchErrorEl.classList.add('waiting');\n  searchParams.query = searchInputEl.value;\n  searchParams.trending = false;\n  showMovies(searchParams.trending);\n  searchInputEl.value = '';\n});\n\nwrapperEl.addEventListener('click', event => {\n  fetchSingleMovie(+event.target.parentNode.dataset.id, axios);\n});\n\nwindow.addEventListener(\n  'resize',\n  debounce(() => createPagination(searchParams), 100)\n);\n\n// // DODAÄ† DO MY LIBRARY JS\n// const userWatchedBtn = document.getElementById('user-watched-btn');\n// const userQueueBtn = document.getElementById('user-queue-btn');\n\n// userWatchedBtn.addEventListener('click', () => createMovies(userMovies.watched));\n// userQueueBtn.addEventListener('click', () => createMovies(userMovies.queued));\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"fDMEU\")).toString();","import camera from '../assets/images/camera.png';\nimport film from '../assets/images/film.png';\n\nexport const loaderHTML = `\n<div id=\"loager\" class=\"loader\">\n  <div class=\"loader__container\">\n    <div class=\"loader__film\">\n      <img\n        class=\"loader__film-img\"\n        src=\"${film}\"\n        alt=\"\"\n      />\n      <img\n        class=\"loader__film-img\"\n        src=\"${film}\"\n        alt=\"\"\n      />\n    </div>\n    <img\n      class=\"loader__camera\"\n      src=\"${camera}\"\n      alt=\"\"\n    />\n  </div>\n</div>`;\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"90HkZ\")).toString();","export class SearchParams {\n  #page = 1;\n  #totalPages = 0;\n  #query = '';\n  #trending = true;\n\n  get page() {\n    return this.#page;\n  }\n  set page(val) {\n    this.#page = val;\n  }\n\n  incrementPage() {\n    this.#page++;\n  }\n\n  decrementPage() {\n    this.#page--;\n  }\n\n  get totalPages() {\n    return this.#totalPages;\n  }\n  set totalPages(val) {\n    this.#totalPages = val;\n  }\n\n  get query() {\n    return this.#query;\n  }\n  set query(val) {\n    this.#query = val;\n  }\n\n  get trending() {\n    return this.#trending;\n  }\n  set trending(val) {\n    this.#trending = val;\n  }\n}\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$fmRoT","$fd9c117984a489cb$exports","URL","resolve","url","toString","$d5eb36a0361d6668$export$1e2eda66c1870c6a","$parcel$interopDefault","$3e90e272847784f3$exports","$35da740d59af89ba$var$wrapperEl","document","getElementById","$35da740d59af89ba$var$searchFormEl","$35da740d59af89ba$var$searchInputEl","$35da740d59af89ba$var$nextBtn","$35da740d59af89ba$var$previousBtn","$35da740d59af89ba$var$paginationEl","$35da740d59af89ba$var$searchErrorEl","$35da740d59af89ba$var$searchParams","page","totalPages","query","trending","this","val","incrementPage","decrementPage","$35da740d59af89ba$var$createSearchParams","URLSearchParams","api_key","$geVIX","KEY","language","LANGUAGE","include_adult","$35da740d59af89ba$var$fetchMovies","async","innerHTML","response","default","get","console","log","data","results","$ibngl","createMovies","error","classList","remove","$35da740d59af89ba$var$showMovies","addEventListener","event","target","innerText","preventDefault","add","value","$4rMUO","fetchSingleMovie","parentNode","dataset","window","$lwfqC","$cz9oG","createPagination"],"version":3,"file":"index.64c2f108.js.map"}