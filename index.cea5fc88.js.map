{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,qEASA,MAAMC,EAAYC,SAASC,eAAe,WACpCC,EAAeF,SAASC,eAAe,eACvCE,EAAgBH,SAASC,eAAe,gBACxCG,EAAUJ,SAASC,eAAe,YAClCI,EAAcL,SAASC,eAAe,gBACtCK,EAAeN,SAASC,eAAe,cAEvCM,EAAe,IChBd,MACLC,GAAQ,EACRC,GAAc,EACdC,GAAS,GACTC,IAAY,EAERH,WACF,OAAOI,MAAKJ,CACd,CACIA,SAAKK,GACPD,MAAKJ,EAAQK,CACf,CAEAC,gBACEF,MAAKJ,GACP,CAEAO,gBACEH,MAAKJ,GACP,CAEIC,iBACF,OAAOG,MAAKH,CACd,CACIA,eAAWI,GACbD,MAAKH,EAAcI,CACrB,CAEIH,YACF,OAAOE,MAAKF,CACd,CACIA,UAAMG,GACRD,MAAKF,EAASG,CAChB,CAEIF,eACF,OAAOC,MAAKD,CACd,CACIA,aAASE,GACXD,MAAKD,EAAYE,CACnB,GDtBIG,EAAqB,IACzB,IAAIC,gBAAgB,CAClBP,MAAOH,EAAaG,MACpBQ,QAASC,EAAAC,IACTC,SAAUF,EAAAG,SACVC,eAAe,EACff,KAAMD,EAAaC,OAMjBgB,EAAcC,IAClB5B,EAAA6B,QAAMC,IAAIF,GAAKG,MAAKC,IAAO,EAAAC,EAAAC,cAAaF,EAAIG,KAAMzB,IAAA,EAG9C0B,EAAatB,IACNa,EAAXb,EAP8B,GAAGQ,EAAAe,0BAA0BlB,MAD/B,GAAGG,EAAAe,mBAAmBlB,MAQ0B,EAG9EiB,EAAW1B,EAAaI,UACxBL,EAAa6B,iBAAiB,SAASC,IACE,iBAA3BA,EAAMC,OAAOC,YAAwB/B,EAAaC,MAAQ4B,EAAMC,OAAOC,WACnFL,EAAW1B,EAAaI,SAAQ,IAGlCP,EAAQ+B,iBAAiB,SAAS,KAChC5B,EAAaO,gBACbmB,EAAW1B,EAAaI,SAAQ,IAGlCN,EAAY8B,iBAAiB,SAAS,KACpC5B,EAAaQ,gBACbkB,EAAW1B,EAAaI,SAAQ,IAGlCT,EAAaiC,iBAAiB,UAAUC,IACtCA,EAAMG,iBACNhC,EAAaG,MAAQP,EAAcqC,MACnCjC,EAAaI,UAAW,EACxBsB,EAAW1B,EAAaI,UACxBR,EAAcqC,MAAQ,MAGxBzC,EAAUoC,iBAAiB,SAASC,KAClC,EAAAK,EAAAC,mBAAkBN,EAAMC,OAAOM,WAAWC,QAAQC,GAAIhD,EAAA6B,SAAOE,MAAKI,GAAQc,QAAQC,IAAIf,IAAA,IAGxFgB,OAAOb,iBACL,SACAc,EAAAC,EAAA,EAAS,KAAM,EAAAC,EAAAC,kBAAiB7C,IAAe","sources":["src/index.js","src/scripts/searchParams.js"],"sourcesContent":["import axios from 'axios';\nimport './sass/main.scss';\nimport { userMovies, fetchSingleMovie } from './scripts/modal';\nimport { URL, IMG_URL, KEY, LANGUAGE } from './scripts/constants';\nimport { createMovies } from './scripts/createMovies';\nimport { SearchParams } from './scripts/searchParams';\nimport { createPagination } from './scripts/pagination';\nimport debounce from 'lodash.debounce';\n\nconst wrapperEl = document.getElementById('wrapper');\nconst searchFormEl = document.getElementById('search-form');\nconst searchInputEl = document.getElementById('search-input');\nconst nextBtn = document.getElementById('next-btn');\nconst previousBtn = document.getElementById('previous-btn');\nconst paginationEl = document.getElementById('pagination');\n\nconst searchParams = new SearchParams();\n\nconst createSearchParams = () =>\n  new URLSearchParams({\n    query: searchParams.query,\n    api_key: KEY,\n    language: LANGUAGE,\n    include_adult: false,\n    page: searchParams.page,\n  });\n\nconst createSearchURL = () => `${URL}search/movie?${createSearchParams()}`;\nconst createTrendingURL = () => `${URL}trending/movie/week?${createSearchParams()}`;\n\nconst fetchMovies = url => {\n  axios.get(url).then(res => createMovies(res.data, searchParams));\n};\n\nconst showMovies = trending => {\n  trending ? fetchMovies(createTrendingURL()) : fetchMovies(createSearchURL());\n};\n\nshowMovies(searchParams.trending);\npaginationEl.addEventListener('click', event => {\n  if (typeof +event.target.innerText === 'number') searchParams.page = +event.target.innerText;\n  showMovies(searchParams.trending);\n});\n\nnextBtn.addEventListener('click', () => {\n  searchParams.incrementPage();\n  showMovies(searchParams.trending);\n});\n\npreviousBtn.addEventListener('click', () => {\n  searchParams.decrementPage();\n  showMovies(searchParams.trending);\n});\n\nsearchFormEl.addEventListener('submit', event => {\n  event.preventDefault();\n  searchParams.query = searchInputEl.value;\n  searchParams.trending = false;\n  showMovies(searchParams.trending);\n  searchInputEl.value = '';\n});\n\nwrapperEl.addEventListener('click', event => {\n  fetchSingleMovie(+event.target.parentNode.dataset.id, axios).then(data => console.log(data));\n});\n\nwindow.addEventListener(\n  'resize',\n  debounce(() => createPagination(searchParams), 100)\n);\n\n// // DODAÄ† DO MY LIBRARY JS\n// const userWatchedBtn = document.getElementById('user-watched-btn');\n// const userQueueBtn = document.getElementById('user-queue-btn');\n\n// userWatchedBtn.addEventListener('click', () => createMovies(userMovies.watched));\n// userQueueBtn.addEventListener('click', () => createMovies(userMovies.queued));\n","export class SearchParams {\n  #page = 1;\n  #totalPages = 0;\n  #query = '';\n  #trending = true;\n\n  get page() {\n    return this.#page;\n  }\n  set page(val) {\n    this.#page = val;\n  }\n\n  incrementPage() {\n    this.#page++;\n  }\n\n  decrementPage() {\n    this.#page--;\n  }\n\n  get totalPages() {\n    return this.#totalPages;\n  }\n  set totalPages(val) {\n    this.#totalPages = val;\n  }\n\n  get query() {\n    return this.#query;\n  }\n  set query(val) {\n    this.#query = val;\n  }\n\n  get trending() {\n    return this.#trending;\n  }\n  set trending(val) {\n    this.#trending = val;\n  }\n}\n"],"names":["$fmRoT","parcelRequire","$35da740d59af89ba$var$wrapperEl","document","getElementById","$35da740d59af89ba$var$searchFormEl","$35da740d59af89ba$var$searchInputEl","$35da740d59af89ba$var$nextBtn","$35da740d59af89ba$var$previousBtn","$35da740d59af89ba$var$paginationEl","$35da740d59af89ba$var$searchParams","page","totalPages","query","trending","this","val","incrementPage","decrementPage","$35da740d59af89ba$var$createSearchParams","URLSearchParams","api_key","$geVIX","KEY","language","LANGUAGE","include_adult","$35da740d59af89ba$var$fetchMovies","url","default","get","then","res","$ibngl","createMovies","data","$35da740d59af89ba$var$showMovies","URL","addEventListener","event","target","innerText","preventDefault","value","$4rMUO","fetchSingleMovie","parentNode","dataset","id","console","log","window","$parcel$interopDefault","$lwfqC","$cz9oG","createPagination"],"version":3,"file":"index.cea5fc88.js.map"}